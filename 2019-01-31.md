# 展示组件和容器组件

[查看原文](https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0)

我发现一个在编写 React 应用时十分有用而且简单的模式。如果你已经编写 React 很久了那你可能就会发现这个模式。[这篇文章](https://medium.com/@learnreact/container-components-c0e67432e005)描述的十分好，但是我想加入一些我个人的观点。

如果你将**组件分成两类**的话，你会发现他们更易于重用和理解。我称他们为*表现组件和容器组件*但是我还听说过这些形容词比如*重或轻*，_聪明或愚蠢_，_有状态和无状态_，_展示和组件_。他们不完全相同但是核心思想是一样的。

我的**展示**组件：

- 关注组件是如何显示的。
- 可以嵌套展示组件和容器组件，有时候还有一些自身的 DOM 节点和样式。
- 允许使用 `this.props.children`。
- 不依赖于 app 的其他内容，比如 _Flux actions_ 或是 _store_。
- 不用指定数据是如何加载或变化的。
- 只从 _props_ 中获取数据和回调函数。
- 几乎没有他们自己的状态。（除非是 UI 的交互状态而不是数据状态）。
- 一般使用纯函数创建组件除非他们需要状态，生命周期或性能优化。
- 例子：页面，侧边栏，新闻，用户信息，列表等。

我的**容器**组件：

- 关注组件是如何工作的。
- 可以嵌套展示组件和容器组件，但是基本不会有 DOM 节点除了一些包裹用的 div，并且拥有不会有样式。
- 给其他展示组件或容器组件提供数据和行为。
- 调用 Flux actions 并将它作为回调函数提供给展示组件。
- 基本是有状态的，并且往往作为数据源。
- 经常使用高阶组件，比如 React Redux 的 `connect()`，Realy 的 `createContainer()`，或者是 Flux Utils 的 `Container.create()`，而不是手写。

分类组件的益处

- 更好的关注点分离。通过这个方法构建组件你可以更好的理解你的 app 和你的 UI。
- 更好的重用性。你可以将完全不同的数据运用到你的组件上，如果将数据分散到各个容器组件中能够进一步的进行重用。
- 展示组件本质上来说是你 app 的“调色盘”。你可以将它们放到一个页面中，然后让设计师进行各种内容的微调且不影响 app 的逻辑。你可以在这个页面上运行截图的回归测试。
- 可以迫使你提取“布局组件”例如，侧边栏，页面，菜单并且可以使用 `this.props.children` 来替代容器组件中重复的节点和布局。

记住，组件并不只是由 dom 去构建。他们仅仅是用来提供 UI 关注点的边界成分。

试着去使用它。
